# 競輪予想CLI

競輪の直近レースを対象とした予想システムをCUIで提供するアプリケーションです。

## 特徴

- 🚴 **自動データ取得**: 競輪公式サイトからの自動データ取得
- 🔮 **多角的予想**: 選手能力・近況・バンク相性・ライン戦略を考慮
- 💡 **買い目推奨**: 3連単・3連複の具体的な推奨
- 🎨 **美しいCUI**: Rich ライブラリによる見やすい表示
- ⚡ **高速処理**: キャッシュシステムによる高速レスポンス

## インストール

1. リポジトリをクローン
```bash
git clone <repository-url>
cd keirin
```

2. 依存ライブラリをインストール
```bash
pip install -r requirements.txt
```

## 使用方法

### 対話式モード（推奨）
```bash
python main.py
```

### コマンドラインモード

特定レースの予想:
```bash
python main.py predict 20241205_平塚_01
```

テスト実行:
```bash
python main.py test
```

キャッシュ情報確認:
```bash
python main.py cache-info
```

キャッシュクリア:
```bash
python main.py clear-cache
```

## プロジェクト構造

```
keirin/
├── main.py              # メインエントリーポイント
├── config/
│   └── settings.py      # 設定管理
├── data/
│   ├── models.py        # データモデル
│   └── fetcher.py       # データ取得
├── prediction/
│   └── predictor.py     # 予想エンジン
├── interface/
│   └── cli.py           # CLI表示
├── utils/
│   ├── cache.py         # キャッシュ管理
│   └── logger.py        # ログ管理
└── requirements.txt     # 依存ライブラリ
```

## 予想アルゴリズム

### 評価項目（重み）
- **選手能力** (35%): 級班、勝率、年齢による基本能力
- **近況フォーム** (25%): 直近5戦の成績動向
- **バンク相性** (20%): 開催場での成績、脚質との相性
- **ライン戦略** (15%): ライン形成、役割による評価
- **外部要因** (5%): 天候、オッズ等の補正

### 推奨度評価
- **S**: 90点以上（★★★★★）
- **A**: 80-89点（★★★★）
- **B**: 70-79点（★★★）
- **C**: 60-69点（★★）
- **D**: 60点未満（★）

## 技術仕様

- **言語**: Python 3.9+
- **主要ライブラリ**: requests, beautifulsoup4, pandas, rich, click
- **データベース**: SQLite (キャッシュ用)
- **設計**: モジュール分割、PEP 8準拠

## 設定

`config/settings.py` で以下の設定が可能です：

- データ取得間隔
- 予想アルゴリズムの重み
- 表示設定
- ログレベル

## 注意事項

- このアプリケーションは教育・研究目的です
- 投資は自己責任で行ってください
- 過度なアクセスを避け、サイトの利用規約を遵守してください

## ライセンス

MIT License

## 作者

競輪予想システム開発チーム